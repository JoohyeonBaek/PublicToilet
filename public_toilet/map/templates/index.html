<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Title</title>-->
<!--</head>-->
<!--<body>-->
<!--    <table>-->
<!--        <tr>>-->
<!--            <th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th>-->
<!--            <th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th><th>1</th>-->
<!--            <th>1</th><th>1</th>-->
<!--        </tr>-->
<!--        {% for post in posts %}-->
<!--        <tr>-->
<!--            <td> {{ post.num }}</td>-->
<!--            <td> {{ post.toilet_name }}</td>-->
<!--            <td> {{ post.male_female }}</td>-->
<!--            <td> {{ post.male_disabled_toilet_public_toiletnum }}</td>-->
<!--            <td> {{ post.open_time }}</td>-->
<!--            <td> {{ post.management_agency }}</td>-->
<!--            <td> {{ post.male_toilent_num }}</td>-->
<!--            <td> {{ post.male_disabled_urinal_num }}</td>-->
<!--            <td> {{ post.call_number }}</td>-->
<!--            <td> {{ post.land_address }}</td>-->
<!--            <td> {{ post.female_toilet_num }}</td>-->
<!--            <td> {{ post.sortation }}</td>-->
<!--            <td> {{ post.male_urinal_num }}</td>-->
<!--            <td> {{ post.longitude }}</td>-->
<!--            <td> {{ post.female_child_toilet_num }}</td>-->
<!--            <td> {{ post.road_address }}</td>-->
<!--            <td> {{ post.male_child_toilet_num }}</td>-->
<!--            <td> {{ post.male_child_urinal_num }}</td>-->
<!--            <td> {{ post.latitude }}</td>-->
<!--            <td> {{ post.female_disabled_toilet_num }}</td>-->
<!--            <td> {{ post.installation_year }}</td>-->
<!--            <td> {{ post.update_date }}</td>-->
<!--        </tr>-->
<!--        <script>-->
<!--            console.log({{ post.open_time }})-->
<!--        </script>-->
<!--        {% endfor %}-->
<!--    </table>-->
<!--</body>-->
<!--</html>-->




<html>
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>간단한 지도 표시하기</title>

    <script type="text/javascript"
            src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=6g2sdua1q0"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>



</head>
<body onload="load()">
<div id="map" style="width:100%;height:100%;"></div>
<p id="latit"></p>
<p id="longi"></p>

<script>



<!--var HOME_PATH = window.HOME_PATH || '.';-->

<!--var map = new naver.maps.Map('map', {-->
<!--    center: new naver.maps.LatLng(37.3595704, 127.105399),-->
<!--    zoom: 10-->
<!--});-->

<!--var cityhall = new naver.maps.LatLng(37.5666805, 126.9784147)-->
<!--var test = new naver.maps.LatLng(37.3595704, 127.105399)-->

<!--marker = [-->
<!--    new naver.maps.Marker({-->
<!--        map: map,-->
<!--        position, cityhall-->
<!--    }),-->

<!--    new naver.maps.Marker({-->
<!--        map: map,-->
<!--        position, test-->
<!--    }),-->


<!--]-->


<!--var contentString = [-->
<!--        '<div class="iw_inner">',-->
<!--        '   <h3>서울특별시청</h3>',-->
<!--        '   <p>서울특별시 중구 태평로1가 31 | 서울특별시 중구 세종대로 110 서울특별시청<br />',-->
<!--        '       <img src="'+ HOME_PATH +'/img/example/hi-seoul.jpg" width="55" height="55" alt="서울시청" class="thumb" /><br />',-->
<!--        '       02-120 | 공공,사회기관 &gt; 특별,광역시청<br />',-->
<!--        '       <a href="http://www.seoul.go.kr" target="_blank">www.seoul.go.kr/</a>',-->
<!--        '   </p>',-->
<!--        '</div>'-->
<!--    ].join('');-->

<!--var infowindow = new naver.maps.InfoWindow({-->
<!--    content: contentString-->
<!--});-->

<!--naver.maps.Event.addListener(marker, "click", function(e) {-->
<!--    if (infowindow.getMap()) {-->
<!--        infowindow.close();-->
<!--    } else {-->
<!--        infowindow.open(map, marker);-->
<!--    }-->
<!--});-->

<!--infowindow.open(map, marker);-->

<!-- 2 -->




<!--3-->
var marker = []
var path = []
var polygondate = {}
var polygon = Object()





var map = new naver.maps.Map('map', {
    center: new naver.maps.LatLng(37.3595704, 127.105399),
    zoom: 10
});

{% for post in posts %}
    marker.push(new naver.maps.Marker({
        position: new naver.maps.LatLng({{ post.latitude }}, {{ post.longitude }}),
        map: map
    }))


{% endfor %}

$.getJSON("{% static 'json/TL_SCCO_SIG.json' %}", function(data){
<!--feature 다음이 지역-->

    var cityIndex = data["features"].findIndex(p=>p.properties["SIG_KOR_NM"] == '원주시')
    var arrLength = data['features'][cityIndex]["geometry"]["coordinates"][0].length


     for(index = 0; index < arrLength; index++) {
        var x = data['features'][cityIndex]["geometry"]["coordinates"][0][index][1]
        var y = data['features'][cityIndex]["geometry"]["coordinates"][0][index][0]
        path.push(new naver.maps.LatLng(x,y))
    }


});

function setPolygon() {
    polygon = new naver.maps.Polygon({
        map: map,
        paths: path,
        fillColor: '#00ff0000',
        fillOpacity: 0.3,
        strokeColor: '#ff0000',
        strokeOpacity: 0.6,
        strokeWeight: 3
    })
}

setTimeout(setPolygon,500)

function successCallback(position) {
    var Lati = position.coords.latitude;
    var Long = position.coords.longitude;
    console.log(position)
    document.getElementById("latit").innerHTML = Lati;
    document.getElementById("longi").innerHTML = Long;

    var markerOne = new naver.maps.Marker({
        position: new naver.maps.LatLng(Lati, Long),
        map: map
    });
}

function errorCallback(error) {
   alert(error.message);
}
function load(){
   if ( navigator.geolocation ) {
      navigator.geolocation.getCurrentPosition(successCallback, errorCallback);
   } else {
      alert("geolocation not supported");
   }
}







</script>
</body>
</html>